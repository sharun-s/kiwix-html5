<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Kiwix</title>
        <link rel="icon" href="img/icons/kiwix-32.png" sizes="32x32" />
        <meta name="description" content="Offline Wikipedia reader">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="css/bootstrap.css" rel="stylesheet" media="screen"/>
        <link href="css/bootstrap-theme.css" rel="stylesheet" media="screen"/>
        <script type="text/javascript" src="js/lib/require.js"></script>
    </head>
    <body role="application">
        <section id="search-article" role="region">
            <article class="view-content">
                <div id="configuration" class="container">
                    <h5><img src="img/icons/kiwix-60.png" alt="Kiwix icon"/>
                    <a href="http://www.kiwix.org/" target="_blank">Kiwix</a> - The Offline Web Archive Reader!</h5>
                    <p class='text-muted'>For help on using the app, in the menu above click <span class="glyphicon glyphicon-question-sign" style="border:1px black"></span></p>
                    <ul class="nav nav-tabs">
                        <li role="presentation" class="active">
                            <a href="#home" id="home-tab" role="tab" data-toggle="tab" aria-controls="home" aria-expanded="true">Detected Archives</a>
                        </li>
                        <li role="presentation">
                            <a href="#profile" role="tab" id="profile-tab" data-toggle="tab" aria-controls="profile">Downloadable Archives</a>
                        </li>
                        <!-- <li role="presentation" class="disabled">
                            <a href="#loadArchive" role="tab" id="loadArchive-tab" data-toggle="tab" aria-controls="profile">Load</a>
                        </li> -->
                        <li role="presentation" class="dropdown"> <a href="#" class="dropdown-toggle" id="myTabDrop1" data-toggle="dropdown" aria-controls="myTabDrop1-contents">Settings <span class="caret"></span></a> 
                            <ul class="dropdown-menu" aria-labelledby="myTabDrop1" id="myTabDrop1-contents"> 
                                <li><a href="#dropdown1" role="tab" id="dropdown1-tab" data-toggle="tab" aria-controls="dropdown1">General</a></li> 
                                <li><a href="#dropdown2" role="tab" id="dropdown2-tab" data-toggle="tab" aria-controls="dropdown2">Search</a></li>
                                <li><a href="#dropdown3" role="tab" id="dropdown3-tab" data-toggle="tab" aria-controls="dropdown3">Aliases</a></li>
                                <li><a href="#dropdown4" role="tab" id="dropdown4-tab" data-toggle="tab" aria-controls="dropdown4">Redirects</a></li> 
                            </ul>
                        </li>
                    </ul>
                    <div class="tab-content" id="myTabContent">
                        <div class="tab-pane fade active in" role="tabpanel" id="home" aria-labelledby="home-tab">
                        <table class='table table-condensed small'>
                            <div class='progress' style='height:2px;margin-bottom:8px'>
                                <div id='scanprogress' class='progress-bar' role='progressbar' aria-valuenow='0' aria-valuemin='0' aria-valuemax='100' style='width:0%'>
                                </div>
                            </div>
                            <caption>These are <a href='openzim.org'>zim</a> files found in the default storage location - the <strong>'www'</strong> directory of your kiwix folder</caption>
                            <thead>
                                <tr>
                                    <th scope='col'>Title</th>
                                    <th scope='col'>Filename</th>
                                    <th scope='col'>Links</th>
                                </tr>
                            </thead>
                            <tbody id='detectedzims'>
                            </tbody>
                        </table>
                        </div>
                        <div class="tab-pane fade" role="tabpanel" id="profile" aria-labelledby="profile-tab">
                            <ul id="zims" style="padding:2px;"></ul>
                        </div>
                        <!-- <div class="tab-pane fade" role="tabpanel" id="loadArchive" aria-labelledby="loadArchive-tab">
                          <h4 style='border-bottom:2px solid #004499'>Load An Archive (old method)</h4>
                          <p class='small'>NOTE: ZIM files can be loaded from any location on disk by this method, but link related operations like bookmarking/open link in new tab/inter-archive links etc will not work. For the best experience download and copy files to the default storage location 'www' in the kiwix folder</p>
                          <div id="openLocalFiles" >
                            <p><input type="file" id="archiveFiles" multiple class="btn" accept=".zim,.dat,.idx,.txt,.zimaa,.zimab,.zimac,.zimad,.zimae,.zimaf,.zimag,.zimah,.zimai,.zimaj,.zimak,.zimal,.zimam,.ziman,.zimao,.zimap,.zimaq,.zimar,.zimas,.zimat,.zimau,.zimav,.zimaw,.zimax,.zimay,.zimaz,.zimba,.zimbb,.zimbc,.zimbd,.zimbe,.zimbf,.zimbg,.zimbh,.zimbi,.zimbj,.zimbk,.zimbl,.zimbm,.zimbn,.zimbo,.zimbp,.zimbq,.zimbr,.zimbs,.zimbt,.zimbu,.zimbv,.zimbw,.zimbx,.zimby,.zimbz" />
                            </p>
                        </div>
                        <div id="scanningForArchives" style="display: none;">
                            <br /> Scanning for archives... Please wait <img src="img/spinner.gif" alt="Please wait..." />
                        </div>
                        <div id="chooseArchiveFromLocalStorage" style="display: none;">
                            <br /> Please select the archive you want to use : <select id="archiveList" class="form-control"></select>
                            <br /> Click <a id="btnRescanDeviceStorage">here</a> to rescan your SD Cards and internal memory
                        </div>  
                        </div> -->
                        <div class="tab-pane fade" role="tabpanel" id="dropdown1" aria-labelledby="dropdown1-tab">
                            <table class='table table-condensed small'>
                            <caption>Table lists default values which can be changed in www/js/init.js</caption>
                            <thead>
                                <tr>
                                    <th scope='col'>Setting</th>
                                    <th scope='col'>Value</th>
                                    <th scope='col'>Description</th>
                                </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <th scope='row'>Initial #Images Loaded</th>
                                <td>5</td><td>optimizes article load</td>
                            </tr>
                            <tr>
                                <th scope='row'>Max Async Image Reads</th>
                                <td>3</td><td>optimizes article load</td>
                            </tr>
                            <tr>
                                <th scope='row'>Initial #Images Loaded</th>
                                <td>5</td><td>optimizes article load</td>
                            </tr>
                            <tr>
                                <th scope='row'>Worker Count</th>
                                <td>2</td><td>In above the fold mode/"quick" mode workerCount+1 workers will run</td>
                            </tr>
                            <tr>
                                <th scope='row'>Default Subtitle Language</th>
                                <td>English</td><td>Change track[srclang="en"] in app.js</td>
                            </tr>
                            <tr>
                                <th scope='row'>Max Async Article Reads</th>
                                <td>2</td><td>Image search loads images in artilces from article titles matching search phrase </td>
                            </tr>
                            </tbody>
                        </table>
                        </div>
                        <div class="tab-pane fade" role="tabpanel" id="dropdown2" aria-labelledby="dropdown2-tab">
                            <table class='table table-condensed small'>
                                <caption>Table lists default values which can be changed in www/js/init.js</caption>
                                <thead>
                                    <tr>
                                        <th scope='col'>Setting</th>
                                        <th scope='col'>Value</th>
                                        <th scope='col'>Description</th>
                                    </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <th scope='row'>Auto Complete</th>
                                    <td>True</td><td>if false user has to hit enter or press the search button after typing</td>
                                </tr>
                                <tr>
                                    <th scope='row'>autoCompleteResubmitTimer</th>
                                    <td>700</td><td></td>
                                </tr>
                                <tr>
                                    <th scope='row'>Include Snippet</th>
                                    <td>False</td><td>First para of article is included in search result</td>
                                </tr>
                                <tr>
                                    <th scope='row'>maxAsyncSnippetReads</th>
                                    <td>5</td><td>search performance optimization</td>
                                </tr>
                                <tr>
                                    <th scope='row'>Include Thumbnail</th>
                                    <td>True</td><td></td>
                                </tr>
                                <tr>
                                    <th scope='row'>Max Results</th>
                                    <td>10</td><td>use 'upto' param in titleSearch url (see about page)</td>
                                </tr>
                                <tr>
                                    <th scope='row'>From index location</th>
                                    <td>0</td><td>use 'from' param in titleSearch url (see about page)</td>
                                </tr>
                                <tr>
                                    <th scope='row'>Include Snippet</th>
                                    <td>False</td><td>First para of article is included in search result</td>
                                </tr>
                                <tr>
                                    <th scope='row'>Matching</th>
                                    <td>PrefixAndArticleMatch</td><td>By default, matching of search phrase is done against begining of article titles. This can be changed to SubstringMatch to match anywhere in the title</td>
                                </tr>
                                <tr>
                                    <th scope='row'>caseSensitive matching</th>
                                    <td>True</td><td>use 'case' param in titleSearch url (see about page)</td>
                                </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="tab-pane fade" role="tabpanel" id="dropdown3" aria-labelledby="dropdown3-tab">
                            <table class='table table-condensed small'>
                                <caption>Short names to simplify urls when ZIM filenames are too long eg: wikipedia_en_2018-10 -> wiki will allow ?archive=wiki to be used in url. To add a new entry or change an entry knownArchives.js needs to be manually updated currently.</caption>
                                <thead>
                                    <tr>
                                        <th scope='col'>Filename</th>
                                        <th scope='col'>Alias</th>
                                    </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <th scope='row'>test</th>
                                    <td>wikipedia_en_ray_charles_2015-06.zim</td>
                                </tr>
                                <tr>
                                    <th scope='row'>wiki</th>
                                    <td>wikipedia_en_all_2016-12.zim</td>
                                </tr>
                                <tr>
                                    <th scope='row'>so</th>
                                    <td>stackoverflow.com_eng_all_2017-05.zim</td>
                                </tr>                                
                                </tbody>
                            </table>
                        </div>
                        <div class="tab-pane fade" role="tabpanel" id="dropdown4" aria-labelledby="dropdown4-tab">
                            <table class='table table-condensed small'>
                                <caption>Inter-archive links mapping. If a wikipedia article has a link pointing at wikivoyage and both ZIM files are available then updating this mapping table should allow all such link to work offline. Currently must be modification must be made manually in library.js URL2Archive object  </caption>
                                <thead>
                                    <tr>
                                        <th scope='col'>URL</th>
                                        <th scope='col'>Filename or Alias</th>
                                    </tr>
                                </thead>
                                <tbody>
                                <tr>
                                    <th scope='row'>simple.wikipedia.org</th>
                                    <td>wiki</td>
                                </tr>
                                <tr>
                                    <th scope='row'>en.wikipedia.org</th>
                                    <td>wiki</td>
                                </tr>
                                <tr>
                                    <th scope='row'>en.wikipedia.org/wiki</th>
                                    <td>wiki</td>
                                </tr>
                                <tr>
                                    <th scope='row'>en.wiktionary.org/wiki</th>
                                    <td>wiktionary_en_simple_all_novid_2018-07.zim</td>
                                </tr>
                                <tr>
                                    <th scope='row'>stackoverflow.com</th>
                                    <td>so</td>
                                </tr>
                                <tr>
                                    <th scope='row'>www.stackoverflow.com</th>
                                    <td>so</td>
                                </tr>                               
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>               
			</article>
        </section>
    </body>
    <script>
        require({
            baseUrl: 'js/lib',
            paths: {
                'jquery': 'jquery-2.1.4',
                'bootstrap': 'bootstrap'
            },
            shim: {
                'jquery' : {
                    exports : '$'
                },
                'bootstrap': {
                    deps: ['jquery']
                }
            }
        }, function(){
        require(['bootstrap']);
        require(
            ['library'], function(library){
            library.loadDownloadables($("#zims"));
            library.loadDetected($("#detectedzims"));
        });});
    </script>
</html>